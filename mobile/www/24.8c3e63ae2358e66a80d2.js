(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"4EGZ":function(l,n,u){"use strict";u.r(n);var t=u("CcnG"),e=u("GxC+"),o=function(){function l(l,n){this.error="",this.answers=[],this.areaNames=["Area 1","Area 2","Area 3","Area 4"],this.router=l,this.surveyService=n}return l.prototype.ngOnInit=function(){var l=this;this.isLoading=!0,this.error="",this.questions=this.surveyService.getQuestions().then(function(n){console.log("questions",n),l.questions=n,l.nextBtnText="Continua",l.currentQuestionIndex=0,n.forEach(function(){l.answers.push({value:-1})}),l.isLoading=!1},function(n){console.error(n),l.error=n,l.isLoading=!1})},l.prototype.selectAnswer=function(l){var n=this.currentQuestionIndex,u={value:l,question_id:this.questions[n].id};this.answers[n]?this.answers[n]=u:this.answers.push(u)},l.prototype.nextQuestion=function(){this.currentQuestionIndex==this.questions.length-1?this.saveSurvey():this.currentQuestionIndex++},l.prototype.prevQuestion=function(){this.currentQuestionIndex--},l.prototype.saveSurvey=function(){var l=this;this.isLoading=!0,this.surveyService.save(this.answers).then(function(n){l.router.navigate(["/survey-results"])},function(l){})},l.prototype.goHome=function(){this.router.navigate(["/coaching-paths"])},l}(),r=function(){return function(){}}(),s=u("pMnS"),i=u("Ip0R"),c=u("oBZk"),a=u("ZZ/e"),b=u("ZYCi"),f=t.ob({encapsulation:0,styles:[[""]],data:{}});function p(l){return t.Kb(0,[(l()(),t.qb(0,0,null,null,8,"div",[],null,null,null,null,null)),(l()(),t.qb(1,0,null,null,3,"div",[["class","tx-r15 pb-3"]],null,null,null,null,null)),(l()(),t.qb(2,0,null,null,1,"span",[["class","tx-bold tx-primary"]],null,null,null,null,null)),(l()(),t.Ib(-1,null,[" Area: "])),(l()(),t.Ib(4,null,[" "," "])),(l()(),t.qb(5,0,null,null,3,"div",[["class","title"]],null,null,null,null,null)),(l()(),t.qb(6,0,null,null,1,"span",[["class","tx-bold tx-primary tx-r12"]],null,null,null,null,null)),(l()(),t.Ib(7,null,[" ",". "])),(l()(),t.Ib(8,null,[" "," "]))],null,function(l,n){var u=n.component;l(n,4,0,u.areaNames[u.questions[u.currentQuestionIndex].area]),l(n,7,0,u.currentQuestionIndex+1),l(n,8,0,u.questions[u.currentQuestionIndex].text)})}function h(l){return t.Kb(0,[(l()(),t.qb(0,0,null,null,4,"div",[["class","flex-1 flex-cont-col v-center h-center"]],null,null,null,null,null)),(l()(),t.qb(1,0,null,null,3,"div",[["class","answer-btn"]],[[2,"selected",null]],[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.selectAnswer(l.context.$implicit)&&t),t},null,null)),t.pb(2,278528,null,0,i.j,[t.s,t.t,t.k,t.D],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),t.qb(3,0,null,null,1,"span",[["class","flex-cont-col v-center h-center"]],null,null,null,null,null)),(l()(),t.Ib(4,null,[" "," "]))],function(l,n){l(n,2,0,"answer-btn","answer-value-"+n.context.$implicit)},function(l,n){var u=n.component;l(n,1,0,u.answers[u.currentQuestionIndex].value==n.context.$implicit),l(n,4,0,n.context.$implicit)})}function v(l){return t.Kb(0,[(l()(),t.qb(0,0,null,null,3,"div",[["class","answer-cont flex-cont-row v-center w-100"]],null,null,null,null,null)),(l()(),t.hb(16777216,null,null,2,null,h)),t.pb(2,278528,null,0,i.k,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null),t.Bb(3,4)],function(l,n){var u=l(n,3,0,1,2,3,4);l(n,2,0,u)},null)}function d(l){return t.Kb(0,[(l()(),t.qb(0,0,null,null,6,"div",[["class","answer-cont flex-cont-col v-center w-100"]],null,null,null,null,null)),(l()(),t.qb(1,0,null,null,1,"h2",[],null,null,null,null,null)),(l()(),t.Ib(-1,null,["Il questionario non \xe8 ancora stato completato dal tuo Coach."])),(l()(),t.qb(3,0,null,null,1,"h2",[["class","my-2"]],null,null,null,null,null)),(l()(),t.Ib(-1,null,["Non \xe8 possibile quindi proseguire con la creazione del piano."])),(l()(),t.qb(5,0,null,null,1,"h3",[["class","my-2"]],null,null,null,null,null)),(l()(),t.Ib(-1,null,["Verrai avvisato quando il questionario sar\xe0 disponibile."]))],null,null)}function q(l){return t.Kb(0,[(l()(),t.qb(0,0,null,null,6,"div",[["class","flex-cont-row v-center"]],null,null,null,null,null)),(l()(),t.qb(1,0,null,null,2,"ion-button",[["class","choose-coach-button mr-3"],["color","tertiary"],["fill","solid"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.prevQuestion()&&t),t},c.x,c.c)),t.pb(2,49152,null,0,a.j,[t.h,t.k,t.z],{color:[0,"color"],disabled:[1,"disabled"],fill:[2,"fill"]},null),(l()(),t.Ib(-1,0,[" Indietro "])),(l()(),t.qb(4,0,null,null,2,"ion-button",[["class","choose-coach-button"],["color","primary"],["fill","solid"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.nextQuestion()&&t),t},c.x,c.c)),t.pb(5,49152,null,0,a.j,[t.h,t.k,t.z],{color:[0,"color"],disabled:[1,"disabled"],fill:[2,"fill"]},null),(l()(),t.Ib(6,0,[" "," "]))],function(l,n){var u=n.component;l(n,2,0,"tertiary",0==u.currentQuestionIndex,"solid"),l(n,5,0,"primary",-1==u.answers[u.currentQuestionIndex].value,"solid")},function(l,n){var u=n.component;l(n,6,0,u.currentQuestionIndex==u.questions.length-1?"Salva":"Prossima")})}function g(l){return t.Kb(0,[(l()(),t.qb(0,0,null,null,3,"div",[["class","flex-cont-row v-center"]],null,null,null,null,null)),(l()(),t.qb(1,0,null,null,2,"ion-button",[["class","choose-coach-button mr-3"],["color","tertiary"],["fill","solid"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.goHome()&&t),t},c.x,c.c)),t.pb(2,49152,null,0,a.j,[t.h,t.k,t.z],{color:[0,"color"],fill:[1,"fill"]},null),(l()(),t.Ib(-1,0,[" Torna ai tuoi Piani "]))],function(l,n){l(n,2,0,"tertiary","solid")},null)}function y(l){return t.Kb(0,[(l()(),t.qb(0,0,null,null,11,"div",[["class","flex-cont-col h-100 p-4"]],null,null,null,null,null)),(l()(),t.hb(16777216,null,null,1,null,p)),t.pb(2,16384,null,0,i.l,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.qb(3,0,null,null,4,"div",[["class","flex-1 h-center v-center flex-cont-col"]],null,null,null,null,null)),(l()(),t.hb(16777216,null,null,1,null,v)),t.pb(5,16384,null,0,i.l,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.hb(16777216,null,null,1,null,d)),t.pb(7,16384,null,0,i.l,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.hb(16777216,null,null,1,null,q)),t.pb(9,16384,null,0,i.l,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.hb(16777216,null,null,1,null,g)),t.pb(11,16384,null,0,i.l,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,2,0,u.questions&&u.questions.length>0),l(n,5,0,u.questions.length>0),l(n,7,0,!u.questions||0==u.questions.length),l(n,9,0,u.questions&&u.questions.length>0),l(n,11,0,!u.questions||0==u.questions.length)},null)}function I(l){return t.Kb(0,[(l()(),t.qb(0,0,null,null,5,"div",[["class","flex-cont-col v-center h-center h-100"]],null,null,null,null,null)),(l()(),t.qb(1,0,null,null,4,"div",[["class","flex-cont-col v-center h-center"]],null,null,null,null,null)),(l()(),t.qb(2,0,null,null,1,"ion-spinner",[],null,null,null,c.M,c.r)),t.pb(3,49152,null,0,a.qb,[t.h,t.k,t.z],null,null),(l()(),t.qb(4,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Ib(-1,null,["Caricamento..."]))],null,null)}function x(l){return t.Kb(0,[(l()(),t.qb(0,0,null,null,4,"div",[["class","flex-cont-col v-center h-center h-100"]],null,null,null,null,null)),(l()(),t.qb(1,0,null,null,3,"div",[["class","flex-cont-col v-center h-center"]],null,null,null,null,null)),(l()(),t.qb(2,0,null,null,2,"span",[["class","tx-tertiary"]],null,null,null,null,null)),(l()(),t.Ib(3,null,[" Errore: "," "])),t.Cb(0,i.f,[])],null,function(l,n){var u=n.component;l(n,3,0,t.Jb(n,3,0,t.Ab(n,4).transform(u.error)))})}function m(l){return t.Kb(0,[(l()(),t.qb(0,0,null,null,11,"ion-header",[["no-border",""]],null,null,null,c.F,c.k)),t.pb(1,49152,null,0,a.A,[t.h,t.k,t.z],null,null),(l()(),t.qb(2,0,null,0,9,"ion-toolbar",[["background","primary"],["class","elan-toolbar"]],null,null,null,c.P,c.u)),t.pb(3,49152,null,0,a.Ab,[t.h,t.k,t.z],null,null),(l()(),t.qb(4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,c.y,c.d)),t.pb(5,49152,null,0,a.k,[t.h,t.k,t.z],null,null),(l()(),t.qb(6,0,null,0,2,"ion-back-button",[],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.Ab(l,8).onClick(u)&&e),e},c.w,c.b)),t.pb(7,49152,null,0,a.f,[t.h,t.k,t.z],null,null),t.pb(8,16384,null,0,a.g,[[2,a.gb],a.Gb],null,null),(l()(),t.qb(9,0,null,0,2,"ion-title",[],null,null,null,c.O,c.t)),t.pb(10,49152,null,0,a.yb,[t.h,t.k,t.z],null,null),(l()(),t.Ib(-1,0,[" Questionario "])),(l()(),t.qb(12,0,null,null,7,"ion-content",[],null,null,null,c.E,c.j)),t.pb(13,49152,null,0,a.t,[t.h,t.k,t.z],null,null),(l()(),t.hb(16777216,null,0,1,null,y)),t.pb(15,16384,null,0,i.l,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.hb(16777216,null,0,1,null,I)),t.pb(17,16384,null,0,i.l,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.hb(16777216,null,0,1,null,x)),t.pb(19,16384,null,0,i.l,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,15,0,!u.isLoading&&!u.error),l(n,17,0,u.isLoading&&!u.error),l(n,19,0,!u.isLoading&&u.error)},null)}function k(l){return t.Kb(0,[(l()(),t.qb(0,0,null,null,1,"app-assessment-survey",[],null,null,null,m,f)),t.pb(1,114688,null,0,o,[b.m,e.a],null,null)],function(l,n){l(n,1,0)},null)}var w=t.mb("app-assessment-survey",o,k,{},{},[]),Q=u("gIcY");u.d(n,"AssessmentSurveyPageModuleNgFactory",function(){return L});var L=t.nb(r,[],function(l){return t.xb([t.yb(512,t.j,t.bb,[[8,[s.a,w]],[3,t.j],t.x]),t.yb(4608,i.n,i.m,[t.u,[2,i.C]]),t.yb(4608,Q.n,Q.n,[]),t.yb(4608,a.b,a.b,[t.z,t.g]),t.yb(4608,a.Fb,a.Fb,[a.b,t.j,t.q]),t.yb(4608,a.Ib,a.Ib,[a.b,t.j,t.q]),t.yb(1073742336,i.b,i.b,[]),t.yb(1073742336,Q.l,Q.l,[]),t.yb(1073742336,Q.c,Q.c,[]),t.yb(1073742336,a.Cb,a.Cb,[]),t.yb(1073742336,b.o,b.o,[[2,b.u],[2,b.m]]),t.yb(1073742336,r,r,[]),t.yb(1024,b.k,function(){return[[{path:"",component:o}]]},[])])})},"GxC+":function(l,n,u){"use strict";u.d(n,"a",function(){return s});var t=u("t/Na"),e=u("AytR"),o=u("CcnG"),r=e.a.API_URL+"/resource",s=function(){function l(l){this.http=l,this.answers=[]}return l.prototype.save=function(l){var n=this;return new Promise(function(u,t){n.http.post(r+"/surveys",{resource:{answers:l}}).subscribe(function(l){n.surveyResult=l.resource,u("ok")},function(l){t(l.statusText)})})},l.prototype.getSurvey=function(){return this.surveyResult},l.prototype.getQuestions=function(){var l=this;return new Promise(function(n,u){var e=(new t.g).set("filter",JSON.stringify({visible:1}));l.http.get(r+"/questions",{params:e}).subscribe(function(l){n(l.resources.resources)},function(l){u(l.statusText)})})},l.prototype.getAnswers=function(){return this.answers},l.ngInjectableDef=o.S({factory:function(){return new l(o.W(t.c))},token:l,providedIn:"root"}),l}()}}]);