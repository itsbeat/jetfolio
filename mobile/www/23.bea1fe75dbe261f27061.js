(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"9K3O":function(n,l,e){"use strict";e.r(l);var u=e("CcnG"),t=e("Aso2"),o=function(){function n(n,l,e){this.profileService=n,this.router=l,this.route=e,this.coachingAgreement=null,this.isLoading=!0,this.canProceed=!1,this.empty_teaching_agreement={goal_1:"",goal_2:"",goal_3:"",sessions_number:4,kpi_measure:"",approved:!1}}return n.prototype.ngOnInit=function(){var n=this;this.isLoading=!0,this.route.params.subscribe(function(l){l&&(n.coach_path_id=l.coaching_path_id,n.loadCoachingAgreement(n.coach_path_id))})},n.prototype.goBack=function(){this.router.navigateByUrl("/profile/"+this.coach_path_id)},n.prototype.loadCoachingAgreement=function(n){var l=this;this.profileService.getPlanDetails(n).then(function(n){l.coachingAgreement=n.approved||n.approval_required||n.change_requested?JSON.parse(JSON.stringify(n)):JSON.parse(JSON.stringify(l.empty_teaching_agreement)),l.coachingAgreement.approved||l.validate(),l.isLoading=!1})},n.prototype.saveTeachingAgreement=function(){var n=this;this.isLoading=!0,this.coachingAgreement.approval_required=!0,this.coachingAgreement.change_requested=!1,this.profileService.saveTeachingAgreement(this.coach_path_id,this.coachingAgreement).then(function(l){n.router.navigateByUrl("/profile/"+n.coach_path_id)},function(l){n.isLoading=!1,console.log(l)})},n.prototype.validate=function(){var n=!0;this.canProceed=n=(n=(n=(n=n&&""!=this.coachingAgreement.goal_1)&&""!=this.coachingAgreement.goal_2)&&""!=this.coachingAgreement.goal_3)&&""!=this.coachingAgreement.kpi_measure},n.prototype.addSession=function(){this.coachingAgreement.sessions_number<8&&this.coachingAgreement.sessions_number++},n.prototype.removeSession=function(){1!==this.coachingAgreement.sessions_number&&this.coachingAgreement.sessions_number--},n}(),i=function(){return function(){}}(),r=e("pMnS"),a=e("oBZk"),c=e("ZZ/e"),s=e("gIcY"),g=e("Ip0R"),p=e("ZYCi"),h=u.ob({encapsulation:0,styles:[[".goals-cont[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{border:1px solid var(--ion-color-tertiary);--padding-top:10px;--padding-end:8px;--padding-bottom:10px;--padding-start:10px;border-radius:7px;height:60px}.goals-cont[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .kpi-cont[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--ion-color-tertiary);margin-bottom:10px}ion-input[_ngcontent-%COMP%]{font-family:ElanFont2,sans-serif}"]],data:{}});function b(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,5,"div",[["class","agreement-date-info flex-cont-col v-center mb-3"]],null,null,null,null,null)),(n()(),u.qb(1,0,null,null,1,"h3",[["class","tx-tertiary tx-bold"]],null,null,null,null,null)),(n()(),u.Ib(-1,null,["Approvato il "])),(n()(),u.qb(3,0,null,null,2,"p",[["class","tx-r11"]],null,null,null,null,null)),(n()(),u.Ib(4,null,["",""])),u.Eb(5,2)],null,function(n,l){var e=l.component,t=u.Jb(l,4,0,n(l,5,0,u.Ab(l.parent.parent,0),e.coachingAgreement.approved,"dd/MM/yyyy"));n(l,4,0,t)})}function d(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,6,"ion-input",[["class","mg-tb-15 tx-dark"],["placeholder","Obiettivo 1"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"ionBlur"],[null,"ionChange"]],function(n,l,e){var t=!0,o=n.component;return"ionBlur"===l&&(t=!1!==u.Ab(n,1)._handleBlurEvent()&&t),"ionChange"===l&&(t=!1!==u.Ab(n,1)._handleInputEvent(e.target.value)&&t),"ngModelChange"===l&&(t=!1!==(o.coachingAgreement.goal_1=e)&&t),"input"===l&&(t=!1!==o.validate()&&t),t},a.H,a.m)),u.pb(1,16384,null,0,c.Kb,[u.k],null,null),u.Fb(1024,null,s.e,function(n){return[n]},[c.Kb]),u.pb(3,671744,null,0,s.j,[[8,null],[8,null],[8,null],[6,s.e]],{model:[0,"model"]},{update:"ngModelChange"}),u.Fb(2048,null,s.f,null,[s.j]),u.pb(5,16384,null,0,s.g,[[4,s.f]],null,null),u.pb(6,49152,null,0,c.F,[u.h,u.k,u.z],{placeholder:[0,"placeholder"]},null)],function(n,l){n(l,3,0,l.component.coachingAgreement.goal_1),n(l,6,0,"Obiettivo 1")},function(n,l){n(l,0,0,u.Ab(l,5).ngClassUntouched,u.Ab(l,5).ngClassTouched,u.Ab(l,5).ngClassPristine,u.Ab(l,5).ngClassDirty,u.Ab(l,5).ngClassValid,u.Ab(l,5).ngClassInvalid,u.Ab(l,5).ngClassPending)})}function f(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,1,"li",[["class","ml-1 tx-r11"]],null,null,null,null,null)),(n()(),u.Ib(1,null,[" "," "]))],null,function(n,l){n(l,1,0,l.component.coachingAgreement.goal_1)})}function m(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,6,"ion-input",[["class","mg-tb-15 tx-dark"],["placeholder","Obiettivo 2"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"ionBlur"],[null,"ionChange"]],function(n,l,e){var t=!0,o=n.component;return"ionBlur"===l&&(t=!1!==u.Ab(n,1)._handleBlurEvent()&&t),"ionChange"===l&&(t=!1!==u.Ab(n,1)._handleInputEvent(e.target.value)&&t),"ngModelChange"===l&&(t=!1!==(o.coachingAgreement.goal_2=e)&&t),"input"===l&&(t=!1!==o.validate()&&t),t},a.H,a.m)),u.pb(1,16384,null,0,c.Kb,[u.k],null,null),u.Fb(1024,null,s.e,function(n){return[n]},[c.Kb]),u.pb(3,671744,null,0,s.j,[[8,null],[8,null],[8,null],[6,s.e]],{model:[0,"model"]},{update:"ngModelChange"}),u.Fb(2048,null,s.f,null,[s.j]),u.pb(5,16384,null,0,s.g,[[4,s.f]],null,null),u.pb(6,49152,null,0,c.F,[u.h,u.k,u.z],{placeholder:[0,"placeholder"]},null)],function(n,l){n(l,3,0,l.component.coachingAgreement.goal_2),n(l,6,0,"Obiettivo 2")},function(n,l){n(l,0,0,u.Ab(l,5).ngClassUntouched,u.Ab(l,5).ngClassTouched,u.Ab(l,5).ngClassPristine,u.Ab(l,5).ngClassDirty,u.Ab(l,5).ngClassValid,u.Ab(l,5).ngClassInvalid,u.Ab(l,5).ngClassPending)})}function v(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,1,"li",[["class","ml-1 tx-r11"]],null,null,null,null,null)),(n()(),u.Ib(1,null,[" "," "]))],null,function(n,l){n(l,1,0,l.component.coachingAgreement.goal_2)})}function A(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,6,"ion-input",[["class","mg-tb-15 tx-dark"],["placeholder","Obiettivo 3"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"ionBlur"],[null,"ionChange"]],function(n,l,e){var t=!0,o=n.component;return"ionBlur"===l&&(t=!1!==u.Ab(n,1)._handleBlurEvent()&&t),"ionChange"===l&&(t=!1!==u.Ab(n,1)._handleInputEvent(e.target.value)&&t),"ngModelChange"===l&&(t=!1!==(o.coachingAgreement.goal_3=e)&&t),"input"===l&&(t=!1!==o.validate()&&t),t},a.H,a.m)),u.pb(1,16384,null,0,c.Kb,[u.k],null,null),u.Fb(1024,null,s.e,function(n){return[n]},[c.Kb]),u.pb(3,671744,null,0,s.j,[[8,null],[8,null],[8,null],[6,s.e]],{model:[0,"model"]},{update:"ngModelChange"}),u.Fb(2048,null,s.f,null,[s.j]),u.pb(5,16384,null,0,s.g,[[4,s.f]],null,null),u.pb(6,49152,null,0,c.F,[u.h,u.k,u.z],{placeholder:[0,"placeholder"]},null)],function(n,l){n(l,3,0,l.component.coachingAgreement.goal_3),n(l,6,0,"Obiettivo 3")},function(n,l){n(l,0,0,u.Ab(l,5).ngClassUntouched,u.Ab(l,5).ngClassTouched,u.Ab(l,5).ngClassPristine,u.Ab(l,5).ngClassDirty,u.Ab(l,5).ngClassValid,u.Ab(l,5).ngClassInvalid,u.Ab(l,5).ngClassPending)})}function y(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,1,"li",[["class","ml-1 tx-r11"]],null,null,null,null,null)),(n()(),u.Ib(1,null,[" "," "]))],null,function(n,l){n(l,1,0,l.component.coachingAgreement.goal_3)})}function _(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,1,"h3",[["class","my-2 ml-1 tx-r11"]],null,null,null,null,null)),(n()(),u.Ib(1,null,["#",""]))],null,function(n,l){n(l,1,0,l.component.coachingAgreement.sessions_number)})}function C(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,6,"div",[["class","flex-cont-row tx-tertiary v-center"]],null,null,null,null,null)),(n()(),u.qb(1,0,null,null,1,"ion-icon",[["class","size-l"],["name","remove-circle-outline"]],null,[[null,"click"]],function(n,l,e){var u=!0;return"click"===l&&(u=!1!==n.component.removeSession()&&u),u},a.G,a.l)),u.pb(2,49152,null,0,c.B,[u.h,u.k,u.z],{name:[0,"name"]},null),(n()(),u.qb(3,0,null,null,1,"span",[["class","tx-center mx-3 tx-r12"],["style","min-width: 50px"]],null,null,null,null,null)),(n()(),u.Ib(4,null,[" "," "])),(n()(),u.qb(5,0,null,null,1,"ion-icon",[["class","size-l"],["name","add-circle-outline"]],null,[[null,"click"]],function(n,l,e){var u=!0;return"click"===l&&(u=!1!==n.component.addSession()&&u),u},a.G,a.l)),u.pb(6,49152,null,0,c.B,[u.h,u.k,u.z],{name:[0,"name"]},null)],function(n,l){n(l,2,0,"remove-circle-outline"),n(l,6,0,"add-circle-outline")},function(n,l){n(l,4,0,l.component.coachingAgreement.sessions_number)})}function I(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,6,"ion-textarea",[["class","min-h-100 my-2"],["placeholder","Inserisci i KPI di misurazione per questo Piano di Coaching"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"ionBlur"],[null,"ionChange"]],function(n,l,e){var t=!0,o=n.component;return"ionBlur"===l&&(t=!1!==u.Ab(n,1)._handleBlurEvent()&&t),"ionChange"===l&&(t=!1!==u.Ab(n,1)._handleInputEvent(e.target.value)&&t),"ngModelChange"===l&&(t=!1!==(o.coachingAgreement.kpi_measure=e)&&t),"input"===l&&(t=!1!==o.validate()&&t),t},a.N,a.s)),u.pb(1,16384,null,0,c.Kb,[u.k],null,null),u.Fb(1024,null,s.e,function(n){return[n]},[c.Kb]),u.pb(3,671744,null,0,s.j,[[8,null],[8,null],[8,null],[6,s.e]],{model:[0,"model"]},{update:"ngModelChange"}),u.Fb(2048,null,s.f,null,[s.j]),u.pb(5,16384,null,0,s.g,[[4,s.f]],null,null),u.pb(6,49152,null,0,c.wb,[u.h,u.k,u.z],{placeholder:[0,"placeholder"]},null)],function(n,l){n(l,3,0,l.component.coachingAgreement.kpi_measure),n(l,6,0,"Inserisci i KPI di misurazione per questo Piano di Coaching")},function(n,l){n(l,0,0,u.Ab(l,5).ngClassUntouched,u.Ab(l,5).ngClassTouched,u.Ab(l,5).ngClassPristine,u.Ab(l,5).ngClassDirty,u.Ab(l,5).ngClassValid,u.Ab(l,5).ngClassInvalid,u.Ab(l,5).ngClassPending)})}function P(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,1,"p",[["class","my-2 ml-1 tx-r11"]],null,null,null,null,null)),(n()(),u.Ib(1,null,[" "," "]))],null,function(n,l){n(l,1,0,l.component.coachingAgreement.kpi_measure)})}function w(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,2,"ion-button",[["class","new-session-button not-fixed"],["fill","solid"]],null,[[null,"click"]],function(n,l,e){var u=!0;return"click"===l&&(u=!1!==n.component.saveTeachingAgreement()&&u),u},a.x,a.c)),u.pb(1,49152,null,0,c.j,[u.h,u.k,u.z],{disabled:[0,"disabled"],fill:[1,"fill"]},null),(n()(),u.Ib(-1,0,[" Salva "]))],function(n,l){n(l,1,0,!l.component.canProceed,"solid")},null)}function k(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,37,"div",[["class","p-5 flex-cont-col h-100"]],null,null,null,null,null)),(n()(),u.qb(1,0,null,null,33,"div",[["class","pr-3 flex-1 flex-cont-col w-100 scroll"]],null,null,null,null,null)),(n()(),u.hb(16777216,null,null,1,null,b)),u.pb(3,16384,null,0,g.l,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.qb(4,0,null,null,15,"div",[["class","goals-cont mb-3"]],null,null,null,null,null)),(n()(),u.qb(5,0,null,null,1,"h3",[["class","mb-5 tx-tertiary tx-bold"]],null,null,null,null,null)),(n()(),u.Ib(-1,null,["Obiettivi"])),(n()(),u.qb(7,0,null,null,12,"div",[["class","my-2"]],null,null,null,null,null)),(n()(),u.hb(16777216,null,null,1,null,d)),u.pb(9,16384,null,0,g.l,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.hb(16777216,null,null,1,null,f)),u.pb(11,16384,null,0,g.l,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.hb(16777216,null,null,1,null,m)),u.pb(13,16384,null,0,g.l,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.hb(16777216,null,null,1,null,v)),u.pb(15,16384,null,0,g.l,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.hb(16777216,null,null,1,null,A)),u.pb(17,16384,null,0,g.l,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.hb(16777216,null,null,1,null,y)),u.pb(19,16384,null,0,g.l,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.qb(20,0,null,null,7,"div",[["class","sessions-number-cont mb-3"]],null,null,null,null,null)),(n()(),u.qb(21,0,null,null,4,"div",[["class","flex-cont-col"]],null,null,null,null,null)),(n()(),u.qb(22,0,null,null,1,"h3",[["class","tx-tertiary tx-bold"]],null,null,null,null,null)),(n()(),u.Ib(-1,null,["Numero di sessioni"])),(n()(),u.hb(16777216,null,null,1,null,_)),u.pb(25,16384,null,0,g.l,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.hb(16777216,null,null,1,null,C)),u.pb(27,16384,null,0,g.l,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.qb(28,0,null,null,6,"div",[["class","mb-2"]],null,null,null,null,null)),(n()(),u.qb(29,0,null,null,1,"h3",[["class","tx-bold tx-tertiary mt-3"]],null,null,null,null,null)),(n()(),u.Ib(-1,null,["KPI di Misurazione"])),(n()(),u.hb(16777216,null,null,1,null,I)),u.pb(32,16384,null,0,g.l,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.hb(16777216,null,null,1,null,P)),u.pb(34,16384,null,0,g.l,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.qb(35,0,null,null,2,"div",[["class","pt-5 w-100 flex-cont-col v-center h-center"]],null,null,null,null,null)),(n()(),u.hb(16777216,null,null,1,null,w)),u.pb(37,16384,null,0,g.l,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,3,0,e.coachingAgreement.approved),n(l,9,0,!e.coachingAgreement.approved),n(l,11,0,e.coachingAgreement.approved),n(l,13,0,!e.coachingAgreement.approved),n(l,15,0,e.coachingAgreement.approved),n(l,17,0,!e.coachingAgreement.approved),n(l,19,0,e.coachingAgreement.approved),n(l,25,0,e.coachingAgreement.approved),n(l,27,0,!e.coachingAgreement.approved),n(l,32,0,!e.coachingAgreement.approved),n(l,34,0,e.coachingAgreement.approved),n(l,37,0,!e.coachingAgreement.approved)},null)}function q(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,5,"div",[["class","flex-cont-col v-center h-center h-100"]],null,null,null,null,null)),(n()(),u.qb(1,0,null,null,4,"div",[["class","flex-cont-col v-center h-center"]],null,null,null,null,null)),(n()(),u.qb(2,0,null,null,1,"ion-spinner",[],null,null,null,a.M,a.r)),u.pb(3,49152,null,0,c.qb,[u.h,u.k,u.z],null,null),(n()(),u.qb(4,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),u.Ib(-1,null,["Caricamento..."]))],null,null)}function x(n){return u.Kb(0,[u.Cb(0,g.d,[u.u]),(n()(),u.qb(1,0,null,null,12,"ion-header",[["no-border",""]],null,null,null,a.F,a.k)),u.pb(2,49152,null,0,c.A,[u.h,u.k,u.z],null,null),(n()(),u.qb(3,0,null,0,10,"ion-toolbar",[["class","elan-toolbar"],["translucent","true"]],null,null,null,a.P,a.u)),u.pb(4,49152,null,0,c.Ab,[u.h,u.k,u.z],null,null),(n()(),u.qb(5,0,null,0,5,"ion-buttons",[["slot","start"]],null,null,null,a.y,a.d)),u.pb(6,49152,null,0,c.k,[u.h,u.k,u.z],null,null),(n()(),u.qb(7,0,null,0,3,"ion-button",[],null,[[null,"click"]],function(n,l,e){var u=!0;return"click"===l&&(u=!1!==n.component.goBack()&&u),u},a.x,a.c)),u.pb(8,49152,null,0,c.j,[u.h,u.k,u.z],null,null),(n()(),u.qb(9,0,null,0,1,"ion-icon",[["name","arrow-back"],["slot","start"]],null,null,null,a.G,a.l)),u.pb(10,49152,null,0,c.B,[u.h,u.k,u.z],{name:[0,"name"]},null),(n()(),u.qb(11,0,null,0,2,"ion-title",[],null,null,null,a.O,a.t)),u.pb(12,49152,null,0,c.yb,[u.h,u.k,u.z],null,null),(n()(),u.Ib(-1,0,["Patto di Coaching"])),(n()(),u.qb(14,0,null,null,5,"ion-content",[["scroll-y","false"]],null,null,null,a.E,a.j)),u.pb(15,49152,null,0,c.t,[u.h,u.k,u.z],null,null),(n()(),u.hb(16777216,null,0,1,null,k)),u.pb(17,16384,null,0,g.l,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.hb(16777216,null,0,1,null,q)),u.pb(19,16384,null,0,g.l,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,10,0,"arrow-back"),n(l,17,0,!e.isLoading),n(l,19,0,e.isLoading)},null)}function O(n){return u.Kb(0,[(n()(),u.qb(0,0,null,null,1,"app-teaching-agreement",[],null,null,null,x,h)),u.pb(1,114688,null,0,o,[t.a,p.m,p.a],null,null)],function(n,l){n(l,1,0)},null)}var S=u.mb("app-teaching-agreement",o,O,{coachingAgreement:"coachingAgreement"},{},[]),N=e("iTUp");e.d(l,"TeachingAgreementPageModuleNgFactory",function(){return K});var K=u.nb(i,[],function(n){return u.xb([u.yb(512,u.j,u.bb,[[8,[r.a,S]],[3,u.j],u.x]),u.yb(4608,g.n,g.m,[u.u,[2,g.C]]),u.yb(4608,s.n,s.n,[]),u.yb(4608,c.b,c.b,[u.z,u.g]),u.yb(4608,c.Fb,c.Fb,[c.b,u.j,u.q]),u.yb(4608,c.Ib,c.Ib,[c.b,u.j,u.q]),u.yb(1073742336,g.b,g.b,[]),u.yb(1073742336,s.l,s.l,[]),u.yb(1073742336,s.c,s.c,[]),u.yb(1073742336,c.Cb,c.Cb,[]),u.yb(1073742336,p.o,p.o,[[2,p.u],[2,p.m]]),u.yb(1073742336,N.a,N.a,[]),u.yb(1073742336,i,i,[]),u.yb(1024,p.k,function(){return[[{path:"",component:o}]]},[])])})},Aso2:function(n,l,e){"use strict";e.d(l,"a",function(){return h});var u=e("t/Na"),t=e("J563"),o=e("GxC+"),i=e("AytR"),r=e("CcnG"),a=e("ZYCi"),c=i.a.API_URL+"/resource",s=c+"/act",g={1:8,2:10,3:14,4:16};function p(n){var l=new Date(n.date),e=l.getTime();e+=60*g[n.hour]*60*1e3;var u=-1*l.getTimezoneOffset()*6e4;return new Date(e+u)}var h=function(){function n(n,l,e,u){this.http=n,this.authService=l,this.surveyService=e,this.router=u,this.userPlans=null,this.creatingNewPath=!1,this.newPath={coach:{},dates:[],survey:{}}}return n.prototype.getCoachingPaths=function(){var n=this;return new Promise(function(l,e){var t={user_id:n.authService.getLoggedUser().id},o=(new u.g).set("filter",JSON.stringify(t));n.http.get(c+"/coachingplans",{params:o}).subscribe(function(e){n.userPlans=e.resources.resources,l(n.userPlans)},function(n){e(n)})})},n.prototype.getPlanDetails=function(n){var l=this;return new Promise(function(e,u){l.http.get(c+"/coachingplans/"+n).subscribe(function(n){e(n.resource)},function(n){l.router.navigate(["/coaching-paths",{}]),u(n)})})},n.prototype.getCreatingNewPath=function(){return this.creatingNewPath},n.prototype.getNewPath=function(){return this.newPath},n.prototype.getCurrentCoach=function(){return this.newPath.coach},n.prototype.saveNewPath=function(){var n=this;return new Promise(function(l,e){var u=n.authService.getLoggedUser(),t=n.surveyService.getSurvey(),o={coach:{id:n.newPath.coach.id},user:{id:u.id},survey:{id:t.id},sessions:[{proposed_date_1:p(n.newPath.dates[0]),proposed_date_2:p(n.newPath.dates[1]),proposed_date_3:p(n.newPath.dates[2])}]};n.http.post(c+"/coachingplans",{resource:o}).subscribe(function(n){l(n)},function(n){e(n)})})},n.prototype.createNewSession=function(n){var l=this;return void 0===n&&(n=!0),new Promise(function(e,u){var t={proposed_date_1:p(l.newPath.dates[0]),proposed_date_2:p(l.newPath.dates[1]),proposed_date_3:p(l.newPath.dates[2])};n||(t.id=l.sessionId),l.planId&&(t.coaching_plan={id:l.planId}),l.http.post(c+"/sessions",{resource:t}).subscribe(function(n){e(l.planId)},function(n){e(n)})})},n.prototype.savePlanSessions=function(){return this.sessionId?this.createNewSession(!1):this.creatingNewPath?this.saveNewPath():this.createNewSession()},n.prototype.closePlan=function(n){var l=this;return new Promise(function(e,u){l.http.post(s+"/coachingplans/"+n.id+"/close_coaching_plan",{}).subscribe(function(n){e(n)},function(n){u(n)})})},n.prototype.setPlanId=function(n){this.planId=n},n.prototype.setSessionId=function(n){this.sessionId=n},n.prototype.setNewPath=function(n){this.newPath=JSON.parse(JSON.stringify(n))},n.prototype.setCoach=function(n){this.newPath.coach=JSON.parse(JSON.stringify(n))},n.prototype.setDates=function(n){this.newPath.dates=JSON.parse(JSON.stringify(n))},n.prototype.setCreatingNewPath=function(n){this.creatingNewPath=n},n.prototype.saveTeachingAgreement=function(n,l){var e=this;return new Promise(function(u,t){var o=l;o.id=n,e.http.post(c+"/coachingplans",{resource:o}).subscribe(function(n){u("ok")},function(n){t(n)})})},n.ngInjectableDef=r.S({factory:function(){return new n(r.W(u.c),r.W(t.a),r.W(o.a),r.W(a.m))},token:n,providedIn:"root"}),n}()},"GxC+":function(n,l,e){"use strict";e.d(l,"a",function(){return r});var u=e("t/Na"),t=e("AytR"),o=e("CcnG"),i=t.a.API_URL+"/resource",r=function(){function n(n){this.http=n,this.answers=[]}return n.prototype.save=function(n){var l=this;return new Promise(function(e,u){l.http.post(i+"/surveys",{resource:{answers:n}}).subscribe(function(n){l.surveyResult=n.resource,e("ok")},function(n){u(n.statusText)})})},n.prototype.getSurvey=function(){return this.surveyResult},n.prototype.getQuestions=function(){var n=this;return new Promise(function(l,e){var t=(new u.g).set("filter",JSON.stringify({visible:1}));n.http.get(i+"/questions",{params:t}).subscribe(function(n){l(n.resources.resources)},function(n){e(n.statusText)})})},n.prototype.getAnswers=function(){return this.answers},n.ngInjectableDef=o.S({factory:function(){return new n(o.W(u.c))},token:n,providedIn:"root"}),n}()}}]);