(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"6bQm":function(n,l,t){"use strict";t.r(l);var e=t("CcnG"),u=t("AytR"),o=t("t/Na"),r=u.a.API_URL+"/resource",i=function(){function n(n){this.http=n}return n.prototype.getCoach=function(){var n=this;return new Promise(function(l,t){n.http.get(r+"/coaches").subscribe(function(n){var t=n.resources.resources;t=t.map(function(n){return n.avatar=u.a.BASE_URL+"/avatars/"+n.avatar,n}),l(t)},function(n){t(n)})})},n.ngInjectableDef=e.S({factory:function(){return new n(e.W(o.c))},token:n,providedIn:"root"}),n}(),c=t("Aso2"),s=t("ZZ/e"),a=function(){function n(n,l,t){this.coachService=n,this.profileService=l,this.router=t,this.selectedCoach=null,this.coaches=[],this.newPath=null,this.index=0,this.isLoading=!0,this.sliderConfig={loop:!0,initialSlide:0,speed:400,pager:!0}}return n.prototype.ngOnInit=function(){var n=this;this.coachService.getCoach().then(function(l){n.coaches=l,n.selectedCoach=l[0],n.isLoading=!1},function(l){n.isLoading=!1})},n.prototype.nextCoach=function(){this.slider.slideNext()},n.prototype.prevCoach=function(){this.slider.slidePrev()},n.prototype.chooseCoach=function(){var n=this;this.slider.getActiveIndex().then(function(l){console.log("coach index",l);var t=(l-1)%n.coaches.length;console.log(n.coaches[t]),n.profileService.setCoach(n.coaches[t]),n.router.navigateByUrl("/date-session-chooser")})},n}(),p=function(){return function(){}}(),h=t("pMnS"),b=t("oBZk"),f=t("Ip0R"),g=t("ZYCi"),d=e.ob({encapsulation:0,styles:[["ion-icon[_ngcontent-%COMP%]{font-size:30px;color:var(--ion-color-primary)}.slider-cont[_ngcontent-%COMP%]{padding:0 15%}p[_ngcontent-%COMP%]{font-family:ElanFont2,sans-serif;font-size:20px;color:var(--ion-color-primary)}.coach-avatar[_ngcontent-%COMP%]{width:130px;height:130px;min-width:130px;min-height:130px;border-radius:50%;background-color:#c2baba;background-position:center;background-repeat:no-repeat;background-size:cover}.c-general-info[_ngcontent-%COMP%]{font-family:ElanFont2,sans-serif;font-size:20px;color:var(--ion-color-primary)}.coach-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;margin:3px 0}.c-bio[_ngcontent-%COMP%], .c-curriculum[_ngcontent-%COMP%]{margin:10px 0;padding:5px;font-family:ElanFont2}.c-bio[_ngcontent-%COMP%]{margin-top:30px}"]],data:{}});function v(n){return e.Kb(0,[(n()(),e.qb(0,0,null,null,1,"p",[["class","my-2"]],null,null,null,null,null)),(n()(),e.Ib(1,null,["",""]))],null,function(n,l){n(l,1,0,l.parent.context.$implicit.bio)})}function y(n){return e.Kb(0,[(n()(),e.qb(0,0,null,null,1,"p",[["class","my-2 tx-dark"]],null,null,null,null,null)),(n()(),e.Ib(-1,null,["Nessuna biografia"]))],null,null)}function m(n){return e.Kb(0,[(n()(),e.qb(0,0,null,null,1,"p",[["class","my-2"]],null,null,null,null,null)),(n()(),e.Ib(1,null,["",""]))],null,function(n,l){n(l,1,0,l.parent.context.$implicit.career)})}function w(n){return e.Kb(0,[(n()(),e.qb(0,0,null,null,1,"p",[["class","my-2 tx-dark"]],null,null,null,null,null)),(n()(),e.Ib(-1,null,["Nessuna carriera"]))],null,null)}function P(n){return e.Kb(0,[(n()(),e.qb(0,0,null,null,24,"ion-slide",[],null,null,null,b.K,b.p)),e.pb(1,49152,null,0,s.ob,[e.h,e.k,e.z],null,null),(n()(),e.qb(2,0,null,0,22,"div",[["class","h-100 coach-container flex-cont-col scroll h-center flex-1 w-100"]],null,null,null,null,null)),(n()(),e.qb(3,0,null,null,2,"div",[["class","coach-avatar mg-tb-15"]],null,null,null,null,null)),e.pb(4,278528,null,0,f.o,[e.t,e.k,e.D],{ngStyle:[0,"ngStyle"]},null),e.Db(5,{"background-image":0}),(n()(),e.qb(6,0,null,null,4,"div",[["class","c-general-info my-3"]],null,null,null,null,null)),(n()(),e.qb(7,0,null,null,1,"span",[["class","mg-r-3"]],null,null,null,null,null)),(n()(),e.Ib(8,null,[" "," "])),(n()(),e.qb(9,0,null,null,1,"span",[["class","mg-l-3"]],null,null,null,null,null)),(n()(),e.Ib(10,null,[" "," "])),(n()(),e.qb(11,0,null,null,6,"div",[["class","c-bio my-3"]],null,null,null,null,null)),(n()(),e.qb(12,0,null,null,1,"h2",[["class","tx-center tx-grey"]],null,null,null,null,null)),(n()(),e.Ib(-1,null,[" Biografia "])),(n()(),e.hb(16777216,null,null,1,null,v)),e.pb(15,16384,null,0,f.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.hb(16777216,null,null,1,null,y)),e.pb(17,16384,null,0,f.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.qb(18,0,null,null,6,"div",[["class","c-curriculum my-3"]],null,null,null,null,null)),(n()(),e.qb(19,0,null,null,1,"h2",[["class","tx-center tx-grey"]],null,null,null,null,null)),(n()(),e.Ib(-1,null,[" Carriera "])),(n()(),e.hb(16777216,null,null,1,null,m)),e.pb(22,16384,null,0,f.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.hb(16777216,null,null,1,null,w)),e.pb(24,16384,null,0,f.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=n(l,5,0,"url("+l.context.$implicit.avatar+")");n(l,4,0,t),n(l,15,0,l.context.$implicit.bio),n(l,17,0,!l.context.$implicit.bio),n(l,22,0,l.context.$implicit.career),n(l,24,0,!l.context.$implicit.career)},function(n,l){n(l,8,0,l.context.$implicit.name),n(l,10,0,l.context.$implicit.surname)})}function x(n){return e.Kb(0,[(n()(),e.qb(0,0,null,null,5,"div",[["class","flex-cont-col v-center h-center h-100"]],null,null,null,null,null)),(n()(),e.qb(1,0,null,null,4,"div",[["class","flex-cont-col v-center h-center"]],null,null,null,null,null)),(n()(),e.qb(2,0,null,null,1,"ion-spinner",[],null,null,null,b.M,b.r)),e.pb(3,49152,null,0,s.qb,[e.h,e.k,e.z],null,null),(n()(),e.qb(4,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Ib(-1,null,["Caricamento..."]))],null,null)}function C(n){return e.Kb(0,[e.Gb(402653184,1,{slider:0}),(n()(),e.qb(1,0,null,null,11,"ion-header",[["no-border",""]],null,null,null,b.F,b.k)),e.pb(2,49152,null,0,s.A,[e.h,e.k,e.z],null,null),(n()(),e.qb(3,0,null,0,9,"ion-toolbar",[["class","elan-toolbar"]],null,null,null,b.P,b.u)),e.pb(4,49152,null,0,s.Ab,[e.h,e.k,e.z],null,null),(n()(),e.qb(5,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,b.y,b.d)),e.pb(6,49152,null,0,s.k,[e.h,e.k,e.z],null,null),(n()(),e.qb(7,0,null,0,2,"ion-back-button",[],null,[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==e.Ab(n,9).onClick(t)&&u),u},b.w,b.b)),e.pb(8,49152,null,0,s.f,[e.h,e.k,e.z],null,null),e.pb(9,16384,null,0,s.g,[[2,s.gb],s.Gb],null,null),(n()(),e.qb(10,0,null,0,2,"ion-title",[["class","tx-bold"]],null,null,null,b.O,b.t)),e.pb(11,49152,null,0,s.yb,[e.h,e.k,e.z],null,null),(n()(),e.Ib(-1,0,["Scegli il Coach"])),(n()(),e.qb(13,0,null,null,20,"ion-content",[["fullscreen",""],["padding",""],["scroll-y","false"]],null,null,null,b.E,b.j)),e.pb(14,49152,null,0,s.t,[e.h,e.k,e.z],{fullscreen:[0,"fullscreen"]},null),(n()(),e.qb(15,0,null,0,8,"ion-row",[["class","flex-cont-col h-center"]],null,null,null,b.J,b.o)),e.pb(16,49152,null,0,s.hb,[e.h,e.k,e.z],null,null),(n()(),e.qb(17,0,null,0,6,"div",[["class","fxb-row-sb slider-cont w-100"]],null,null,null,null,null)),(n()(),e.qb(18,0,null,null,1,"ion-icon",[["name","arrow-dropleft-circle"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.prevCoach()&&e),e},b.G,b.l)),e.pb(19,49152,null,0,s.B,[e.h,e.k,e.z],{name:[0,"name"]},null),(n()(),e.qb(20,0,null,null,1,"p",[["class","m-0"]],null,null,null,null,null)),(n()(),e.Ib(-1,null,["Coach"])),(n()(),e.qb(22,0,null,null,1,"ion-icon",[["name","arrow-dropright-circle"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.nextCoach()&&e),e},b.G,b.l)),e.pb(23,49152,null,0,s.B,[e.h,e.k,e.z],{name:[0,"name"]},null),(n()(),e.qb(24,0,null,0,3,"ion-slides",[["class","h-80"],["pager","true"]],null,null,null,b.L,b.q)),e.pb(25,49152,[[1,4],["slider",4]],0,s.pb,[e.h,e.k,e.z],{options:[0,"options"],pager:[1,"pager"]},null),(n()(),e.hb(16777216,null,0,1,null,P)),e.pb(27,278528,null,0,f.k,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null),(n()(),e.qb(28,0,null,0,3,"div",[["class","pt-5 w-100 flex-cont-col v-center h-center"]],null,null,null,null,null)),(n()(),e.qb(29,0,null,null,2,"ion-button",[["class","choose-coach-button"],["color","primary"],["fill","solid"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.chooseCoach()&&e),e},b.x,b.c)),e.pb(30,49152,null,0,s.j,[e.h,e.k,e.z],{color:[0,"color"],fill:[1,"fill"]},null),(n()(),e.Ib(-1,0,[" Scegli "])),(n()(),e.hb(16777216,null,0,1,null,x)),e.pb(33,16384,null,0,f.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,14,0,""),n(l,19,0,"arrow-dropleft-circle"),n(l,23,0,"arrow-dropright-circle"),n(l,25,0,t.sliderConfig,"true"),n(l,27,0,t.coaches),n(l,30,0,"primary","solid"),n(l,33,0,t.isLoading)},null)}function I(n){return e.Kb(0,[(n()(),e.qb(0,0,null,null,1,"app-choose-coach",[],null,null,null,C,d)),e.pb(1,114688,null,0,a,[i,c.a,g.m],null,null)],function(n,l){n(l,1,0)},null)}var k=e.mb("app-choose-coach",a,I,{},{},[]),q=t("gIcY");t.d(l,"ChooseCoachPageModuleNgFactory",function(){return S});var S=e.nb(p,[],function(n){return e.xb([e.yb(512,e.j,e.bb,[[8,[h.a,k]],[3,e.j],e.x]),e.yb(4608,f.n,f.m,[e.u,[2,f.C]]),e.yb(4608,q.n,q.n,[]),e.yb(4608,s.b,s.b,[e.z,e.g]),e.yb(4608,s.Fb,s.Fb,[s.b,e.j,e.q]),e.yb(4608,s.Ib,s.Ib,[s.b,e.j,e.q]),e.yb(1073742336,f.b,f.b,[]),e.yb(1073742336,q.l,q.l,[]),e.yb(1073742336,q.c,q.c,[]),e.yb(1073742336,s.Cb,s.Cb,[]),e.yb(1073742336,g.o,g.o,[[2,g.u],[2,g.m]]),e.yb(1073742336,p,p,[]),e.yb(1024,g.k,function(){return[[{path:"",component:a}]]},[])])})},Aso2:function(n,l,t){"use strict";t.d(l,"a",function(){return b});var e=t("t/Na"),u=t("J563"),o=t("GxC+"),r=t("AytR"),i=t("CcnG"),c=t("ZYCi"),s=r.a.API_URL+"/resource",a=s+"/act",p={1:8,2:10,3:14,4:16};function h(n){var l=new Date(n.date),t=l.getTime();t+=60*p[n.hour]*60*1e3;var e=-1*l.getTimezoneOffset()*6e4;return new Date(t+e)}var b=function(){function n(n,l,t,e){this.http=n,this.authService=l,this.surveyService=t,this.router=e,this.userPlans=null,this.creatingNewPath=!1,this.newPath={coach:{},dates:[],survey:{}}}return n.prototype.getCoachingPaths=function(){var n=this;return new Promise(function(l,t){var u={user_id:n.authService.getLoggedUser().id},o=(new e.g).set("filter",JSON.stringify(u));n.http.get(s+"/coachingplans",{params:o}).subscribe(function(t){n.userPlans=t.resources.resources,l(n.userPlans)},function(n){t(n)})})},n.prototype.getPlanDetails=function(n){var l=this;return new Promise(function(t,e){l.http.get(s+"/coachingplans/"+n).subscribe(function(n){t(n.resource)},function(n){l.router.navigate(["/coaching-paths",{}]),e(n)})})},n.prototype.getCreatingNewPath=function(){return this.creatingNewPath},n.prototype.getNewPath=function(){return this.newPath},n.prototype.getCurrentCoach=function(){return this.newPath.coach},n.prototype.saveNewPath=function(){var n=this;return new Promise(function(l,t){var e=n.authService.getLoggedUser(),u=n.surveyService.getSurvey(),o={coach:{id:n.newPath.coach.id},user:{id:e.id},survey:{id:u.id},sessions:[{proposed_date_1:h(n.newPath.dates[0]),proposed_date_2:h(n.newPath.dates[1]),proposed_date_3:h(n.newPath.dates[2])}]};n.http.post(s+"/coachingplans",{resource:o}).subscribe(function(n){l(n)},function(n){t(n)})})},n.prototype.createNewSession=function(n){var l=this;return void 0===n&&(n=!0),new Promise(function(t,e){var u={proposed_date_1:h(l.newPath.dates[0]),proposed_date_2:h(l.newPath.dates[1]),proposed_date_3:h(l.newPath.dates[2])};n||(u.id=l.sessionId),l.planId&&(u.coaching_plan={id:l.planId}),l.http.post(s+"/sessions",{resource:u}).subscribe(function(n){t(l.planId)},function(n){t(n)})})},n.prototype.savePlanSessions=function(){return this.sessionId?this.createNewSession(!1):this.creatingNewPath?this.saveNewPath():this.createNewSession()},n.prototype.closePlan=function(n){var l=this;return new Promise(function(t,e){l.http.post(a+"/coachingplans/"+n.id+"/close_coaching_plan",{}).subscribe(function(n){t(n)},function(n){e(n)})})},n.prototype.setPlanId=function(n){this.planId=n},n.prototype.setSessionId=function(n){this.sessionId=n},n.prototype.setNewPath=function(n){this.newPath=JSON.parse(JSON.stringify(n))},n.prototype.setCoach=function(n){this.newPath.coach=JSON.parse(JSON.stringify(n))},n.prototype.setDates=function(n){this.newPath.dates=JSON.parse(JSON.stringify(n))},n.prototype.setCreatingNewPath=function(n){this.creatingNewPath=n},n.prototype.saveTeachingAgreement=function(n,l){var t=this;return new Promise(function(e,u){var o=l;o.id=n,t.http.post(s+"/coachingplans",{resource:o}).subscribe(function(n){e("ok")},function(n){u(n)})})},n.ngInjectableDef=i.S({factory:function(){return new n(i.W(e.c),i.W(u.a),i.W(o.a),i.W(c.m))},token:n,providedIn:"root"}),n}()},"GxC+":function(n,l,t){"use strict";t.d(l,"a",function(){return i});var e=t("t/Na"),u=t("AytR"),o=t("CcnG"),r=u.a.API_URL+"/resource",i=function(){function n(n){this.http=n,this.answers=[]}return n.prototype.save=function(n){var l=this;return new Promise(function(t,e){l.http.post(r+"/surveys",{resource:{answers:n}}).subscribe(function(n){l.surveyResult=n.resource,t("ok")},function(n){e(n.statusText)})})},n.prototype.getSurvey=function(){return this.surveyResult},n.prototype.getQuestions=function(){var n=this;return new Promise(function(l,t){var u=(new e.g).set("filter",JSON.stringify({visible:1}));n.http.get(r+"/questions",{params:u}).subscribe(function(n){l(n.resources.resources)},function(n){t(n.statusText)})})},n.prototype.getAnswers=function(){return this.answers},n.ngInjectableDef=o.S({factory:function(){return new n(o.W(e.c))},token:n,providedIn:"root"}),n}()}}]);