(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{L1ab:function(l,n,t){"use strict";t.r(n);var u=t("CcnG"),e=t("BZV/"),o=t("3Fsn"),i=function(){function l(l,n,t,u){this.dateSessionChooseService=l,this.sessionService=n,this.router=t,this.route=u,this.isLoading=!1,this.canProceed=!1}return l.prototype.ngOnInit=function(){this.loadAction()},l.prototype.loadAction=function(){var l=this;this.type=this.route.snapshot.paramMap.get("type"),this.planId=this.route.snapshot.paramMap.get("plan_id"),this.sessionId=this.route.snapshot.paramMap.get("sessionId"),this.actionId=this.route.snapshot.paramMap.get("actionId"),this.isLoading=!0,this.type&&this.sessionId&&this.actionId&&this.sessionService.getSessionById(this.planId,this.sessionId).then(function(n){l.action=n.actions[l.actionId]?n.actions[l.actionId]:{nota:"",deadline:null},l.validate(),l.isLoading=!1})},l.prototype.validate=function(){this.canProceed=!(!this.action.note||!this.action.deadline)},l.prototype.save=function(){var l=this;this.isLoading=!0,this.sessionService.saveAction(this.sessionId,this.action).then(function(n){l.router.navigate(["/session-details/"+l.planId+"/"+l.sessionId])},function(n){l.isLoading=!1})},l.prototype.setDate=function(){null==this.action.result&&(this.dateSessionChooseService.setIndex(1),this.router.navigate(["calendar"],{queryParams:{date_chooser_only:!0,show_hours:!1}}))},l.prototype.ionViewWillEnter=function(){var l=this.dateSessionChooseService.getSelectedDateAndIndex();l&&l.date?(l.index>-1&&(this.action.deadline=new Date(l.date.date)),this.validate()):this.loadAction()},l}(),a=function(){return function(){}}(),s=t("pMnS"),c=t("oBZk"),r=t("ZZ/e"),b=t("gIcY"),d=t("Ip0R"),h=t("wd/R"),p=t.n(h);p.a.locale("it");var g=function(){function l(){}return l.prototype.transform=function(l,n){return p()(l).format("LL")},l}(),f=t("ZYCi"),v=u.ob({encapsulation:0,styles:[["ion-textarea[_ngcontent-%COMP%]{border:2px solid;border-color:var(--ion-color-tertiary);border-radius:10px}"]],data:{}});function y(l){return u.Kb(0,[(l()(),u.qb(0,0,null,null,3,"div",[["class","pt-5 w-100 flex-cont-col v-center h-center"]],null,null,null,null,null)),(l()(),u.qb(1,0,null,null,2,"ion-button",[["class","save-teaching-agrement not-fixed"],["fill","solid"]],null,[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.save()&&u),u},c.x,c.c)),u.pb(2,49152,null,0,r.j,[u.h,u.k,u.z],{disabled:[0,"disabled"],fill:[1,"fill"]},null),(l()(),u.Ib(-1,0,[" Salva "]))],function(l,n){var t=n.component;l(n,2,0,!t.canProceed||null!=t.action.result,"solid")},null)}function I(l){return u.Kb(0,[(l()(),u.qb(0,0,null,null,19,"div",[["class","p-5 flex-cont-col h-100"]],null,null,null,null,null)),(l()(),u.qb(1,0,null,null,16,"div",[["class","flex-1 flex-cont-col w-100 scroll"]],null,null,null,null,null)),(l()(),u.qb(2,0,null,null,1,"h2",[["class","tx-tertiary tx-bold mg-b-10"]],null,null,null,null,null)),(l()(),u.Ib(-1,null,[" Nota "])),(l()(),u.qb(4,0,null,null,6,"ion-textarea",[["placeholder","Inserisci la nota per questa nuova azione"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"change"],[null,"ionBlur"],[null,"ionChange"]],function(l,n,t){var e=!0,o=l.component;return"ionBlur"===n&&(e=!1!==u.Ab(l,5)._handleBlurEvent()&&e),"ionChange"===n&&(e=!1!==u.Ab(l,5)._handleInputEvent(t.target.value)&&e),"ngModelChange"===n&&(e=!1!==(o.action.note=t)&&e),"input"===n&&(e=!1!==o.validate()&&e),"change"===n&&(e=!1!==o.validate()&&e),e},c.N,c.s)),u.pb(5,16384,null,0,r.Kb,[u.k],null,null),u.Fb(1024,null,b.e,function(l){return[l]},[r.Kb]),u.pb(7,671744,null,0,b.j,[[8,null],[8,null],[8,null],[6,b.e]],{model:[0,"model"]},{update:"ngModelChange"}),u.Fb(2048,null,b.f,null,[b.j]),u.pb(9,16384,null,0,b.g,[[4,b.f]],null,null),u.pb(10,49152,null,0,r.wb,[u.h,u.k,u.z],{placeholder:[0,"placeholder"],readonly:[1,"readonly"]},null),(l()(),u.qb(11,0,null,null,1,"h2",[["class","tx-tertiary tx-bold m-t-20 mg-t-20"]],null,null,null,null,null)),(l()(),u.Ib(-1,null,[" Deadline "])),(l()(),u.qb(13,0,null,null,4,"div",[["class","box mg-b-15 flex-cont-col h-center v-center"]],null,[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.setDate()&&u),u},null,null)),u.pb(14,278528,null,0,d.j,[u.s,u.t,u.k,u.D],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u.Db(15,{"to-choose":0,"selected primary":1}),(l()(),u.Ib(16,null,[" "," "])),u.Eb(17,1),(l()(),u.hb(16777216,null,null,1,null,y)),u.pb(19,16384,null,0,d.l,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],function(l,n){var t=n.component;l(n,7,0,t.action.note),l(n,10,0,"Inserisci la nota per questa nuova azione",null!=t.action.result);var u=l(n,15,0,!t.action.deadline,t.action.deadline);l(n,14,0,"box mg-b-15 flex-cont-col h-center v-center",u),l(n,19,0,!t.action.done)},function(l,n){var t=n.component;l(n,4,0,u.Ab(n,9).ngClassUntouched,u.Ab(n,9).ngClassTouched,u.Ab(n,9).ngClassPristine,u.Ab(n,9).ngClassDirty,u.Ab(n,9).ngClassValid,u.Ab(n,9).ngClassInvalid,u.Ab(n,9).ngClassPending);var e=t.action.deadline?u.Jb(n,16,0,l(n,17,0,u.Ab(n.parent,0),t.action.deadline)):"Seleziona la deadline";l(n,16,0,e)})}function m(l){return u.Kb(0,[(l()(),u.qb(0,0,null,null,5,"div",[["class","flex-cont-col v-center h-center h-100"]],null,null,null,null,null)),(l()(),u.qb(1,0,null,null,4,"div",[["class","flex-cont-col v-center h-center"]],null,null,null,null,null)),(l()(),u.qb(2,0,null,null,1,"ion-spinner",[],null,null,null,c.M,c.r)),u.pb(3,49152,null,0,r.qb,[u.h,u.k,u.z],null,null),(l()(),u.qb(4,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Ib(-1,null,["Caricamento..."]))],null,null)}function k(l){return u.Kb(0,[u.Cb(0,g,[]),(l()(),u.qb(1,0,null,null,11,"ion-header",[["no-border",""]],null,null,null,c.F,c.k)),u.pb(2,49152,null,0,r.A,[u.h,u.k,u.z],null,null),(l()(),u.qb(3,0,null,0,9,"ion-toolbar",[["class","elan-toolbar"]],null,null,null,c.P,c.u)),u.pb(4,49152,null,0,r.Ab,[u.h,u.k,u.z],null,null),(l()(),u.qb(5,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,c.y,c.d)),u.pb(6,49152,null,0,r.k,[u.h,u.k,u.z],null,null),(l()(),u.qb(7,0,null,0,2,"ion-back-button",[],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==u.Ab(l,9).onClick(t)&&e),e},c.w,c.b)),u.pb(8,49152,null,0,r.f,[u.h,u.k,u.z],null,null),u.pb(9,16384,null,0,r.g,[[2,r.gb],r.Gb],null,null),(l()(),u.qb(10,0,null,0,2,"ion-title",[["class","tx-bold"]],null,null,null,c.O,c.t)),u.pb(11,49152,null,0,r.yb,[u.h,u.k,u.z],null,null),(l()(),u.Ib(-1,0,["Dettaglio Azione"])),(l()(),u.qb(13,0,null,null,5,"ion-content",[["scroll-y","false"]],null,null,null,c.E,c.j)),u.pb(14,49152,null,0,r.t,[u.h,u.k,u.z],null,null),(l()(),u.hb(16777216,null,0,1,null,I)),u.pb(16,16384,null,0,d.l,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.hb(16777216,null,0,1,null,m)),u.pb(18,16384,null,0,d.l,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],function(l,n){var t=n.component;l(n,16,0,!t.isLoading),l(n,18,0,t.isLoading)},null)}function x(l){return u.Kb(0,[(l()(),u.qb(0,0,null,null,1,"app-session-action-details",[],null,null,null,k,v)),u.pb(1,114688,null,0,i,[o.a,e.a,f.m,f.a],null,null)],function(l,n){l(n,1,0)},null)}var C=u.mb("app-session-action-details",i,x,{},{},[]),q=t("iTUp");t.d(n,"SessionActionDetailsPageModuleNgFactory",function(){return A});var A=u.nb(a,[],function(l){return u.xb([u.yb(512,u.j,u.bb,[[8,[s.a,C]],[3,u.j],u.x]),u.yb(4608,d.n,d.m,[u.u,[2,d.C]]),u.yb(4608,b.n,b.n,[]),u.yb(4608,r.b,r.b,[u.z,u.g]),u.yb(4608,r.Fb,r.Fb,[r.b,u.j,u.q]),u.yb(4608,r.Ib,r.Ib,[r.b,u.j,u.q]),u.yb(1073742336,d.b,d.b,[]),u.yb(1073742336,b.l,b.l,[]),u.yb(1073742336,b.c,b.c,[]),u.yb(1073742336,r.Cb,r.Cb,[]),u.yb(1073742336,f.o,f.o,[[2,f.u],[2,f.m]]),u.yb(1073742336,q.a,q.a,[]),u.yb(1073742336,a,a,[]),u.yb(1024,f.k,function(){return[[{path:"",component:i}]]},[])])})}}]);